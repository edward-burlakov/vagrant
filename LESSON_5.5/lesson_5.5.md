## Домашнее задание к занятию "5.5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"
---


### Задача 1
---
Дайте письменные ответы на следующие вопросы:

#### В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?

Ответ:
----
1) Режим работы replication сервиса предполагает что, количество запущенных экземпляров данного сервиса
    не превысит числа, заданного в файле конфигурации SWARM-кластера.
2) Режим работы global предполагает, что на каждой запускаемой ноде кластера будет  развернут один экземпляр данного сервиса.
   Пример такого сервиса - агент мониторинга nodeexporter. 

#### Какой алгоритм выбора лидера используется в Docker Swarm кластере?

Ответ:
----
 При создании кластера  команда  ("docker swarm init" )  роль  leader выдается  самой первой созданной ноде, которая стартует в режиме manager.
 ПРи любом инциденте выбывания из строя ноды с ролью leader, данная  роль  назначается одной из других  активных нод,  работающим в режиме manager.


#### Что такое Overlay Network?

Ответ:
----
Сетевой overlay-драйвер создает распределенную шифрованную сеть между несколькими узлами, создаваемыми демоном Docker. 
Эта  сеть находится поверх (перекрывает) сети, основанной на  работе по протоколу TCP/IP, позволяя контейнерам, 
подключенным к ней (включая контейнеры служб SWARM-кластера). 
Docker прозрачно обрабатывает маршрутизацию каждого пакета от и к соответствующему хосту демона Docker и соответствующему контейнеру назначения.

Инициализируете SWARM кластер или  к нем  присоединяете хост Docker, на этом хосте Docker создаются две новые сети:
1) оверлейная сеть под названием ingress, которая обрабатывает трафик управления и данных, связанный со службами кластера.
   Когда создается swarm-сервис и явно не подключается к определяемой пользователем оверлейной сети, он подключается к ingress сети по умолчанию.

2) Cеть-мост docker_bridge, которая соединяет отдельный демон-процесс Docker с другими демонам-процессами, участвующими в кластере SWARM.


---
### Задача 2
---
Создать ваш первый Docker Swarm кластер в Яндекс.Облаке
Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
docker node ls


### Ответ:
----


---
###  Задача 3
---
Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.
Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
docker service ls


### Ответ:
----


Задача 4 (*)
Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:

# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true