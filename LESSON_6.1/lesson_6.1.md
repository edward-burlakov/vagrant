## Домашнее задание к занятию "6.1. Типы и структура СУБД"

### Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
  - Электронные чеки в json виде
  - Склады и автомобильные дороги для логистической компании
  - Генеалогические деревья
  - Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутентификации
  - Отношения клиент-покупка для интернет-магазина
  
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

----
### Ответ:

    - Электронные чеки в json виде  - Документоориентированное СУБД. Удобно хранить информацию о чеках в формате JSON-объекта.

    - Склады и автомобильные дороги для логистической компании. Можно выбрать Сетевую - иерархическая с множеством узлов.
      Или графовую NoSQL. Магистрали, связывающие склады, удобно хранить в виде графов.

    - Генеалогические деревья   - Иерахическая  СУБД  с одним родителем, например Адамом. 
      Родственные связи также  можно хранить в графовой СУБД.

    - Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутентификации  - БД формата NoSQL, например MongoDB. 
      Мгновенное получение значений + Ограничение времени хранения  кэша.

    - Отношения клиент-покупка для интернет-магазина   - Удобно  хранить данных  в формате "Ключ-значение",следовательно БД формата NoSQL. 
      Используем, например, БД Redis, как кэш для ускорения работы WEB интерфейса. 

----
### Задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. 
Какой классификации по CAP-теореме соответствует ваша система, 
если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):
Данные записываются на все узлы с задержкой до часа (асинхронная запись)
При сетевых сбоях, система может разделиться на 2 раздельных кластера
Система может не прислать корректный ответ или сбросить соединение
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ:
----
    Данные записываются на все узлы с задержкой до часа (асинхронная запись):    -    CA, EL-PC
    При сетевых сбоях, система может разделиться на 2 раздельных кластера:       -    AP, PA-EL
    Система может не прислать корректный ответ или сбросить соединение:          -    CP, PA-EC

----
### Задача 3
 Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

----
#### Ответ:

    Принципы ACID - требования к СУБД в обеспечении надежности СУБД.
    Принципы BASE - организация работы БД, нацеленное на максимальное число запросов.  
    Нельзя одновременно соблюсти принципы ACID  и BASE,  поскольку во СУБД, построенном
    на наборе принципов BASE присутствует неустойчивое состояние soft-state, 
    при котором не соблюдается требование consistency - согласованность поступающих в БД данных.

----
### Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:
- Фиксация некоторых значений с временем жизни, 
- реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора данной системы?

----
### Ответ:

    Система подписок,очередь сообщений и ограничение времени хранения значений в кэше присутствует в СУБД  документоориентированного типа 
    Mongo DB. 
    - Как основное преимущество, так и и минус данных БД  заключается в том, что данные хрнятся только в RAM.
      поэтому требуются достаточные RAM(оперативной памяти) . 
    - отсутствие поддержки  языка SQL, т.е. проблема оперативного поиска данных .  
    - при аваринйном выключении  экземпляра БД ( питание сервера или сбой гиперизора)
      все данные с момента последней синхронизации с файловым хранилищем будут утеряны.
    И поэтому данная СУБД  по теореме PAC-ELC отноcятся  к типу PA/EC  и к классу СУБД, постренных на принципе BASE.